{% extends "admin/index.html" %}
{% load i18n static %}

{% block content %}
<!-- Reportes Acad칠micos -->
<div class="module" style="margin-bottom: 20px;">
    <table style="width: 100%;">
        <caption>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span>游늵 Reportes y Estad칤sticas</span>
            </div>
        </caption>
        <tbody>
            <tr>
                <td style="padding: 15px;">
                    <a href="{% url 'reporte_academico' %}" class="button" style="background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block; margin-right: 10px;">
                        <strong>游늳 Ver Reporte Acad칠mico con Gr치ficos</strong>
                    </a>
                    <p style="margin-top: 10px; color: #666; font-size: 13px;">
                        Visualiza reportes acad칠micos completos con gr치ficos interactivos: promedios por materia, asistencias, top alumnos y m치s.
                        <br>
                        <em>Incluye opciones de filtrado y exportaci칩n a PDF/Excel.</em>
                    </p>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Herramientas del Sistema -->
<div class="module" style="margin-bottom: 20px;">
    <table style="width: 100%;">
        <caption>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span>游댢 Herramientas del Sistema</span>
            </div>
        </caption>
        <tbody>
            <tr>
                <td style="padding: 15px;">
                    <a href="{% url 'admin_backup' %}" class="button" style="background-color: #417690; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block; margin-right: 10px;">
                        <strong>游닍 Descargar Backup Completo del Sistema</strong>
                    </a>
                    <p style="margin-top: 10px; color: #666; font-size: 13px;">
                        Descarga un archivo ZIP con toda la informaci칩n del sistema: base de datos, configuraci칩n y archivos media.
                        <br>
                        <em>Nota: Solo usuarios administradores pueden realizar esta acci칩n.</em>
                    </p>
                </td>
            </tr>
            <tr>
                <td style="padding: 15px; border-top: 1px solid #eee;">
                    <form method="post" action="{% url 'admin_restore_backup' %}" enctype="multipart/form-data" onsubmit="return confirm('丘멆잺 ADVERTENCIA: Esta acci칩n reemplazar치 TODOS los datos actuales del sistema con los del backup.\n\n쮼st치 seguro de continuar?');">
                        {% csrf_token %}
                        <div style="margin-bottom: 10px;">
                            <label for="backup_file" style="font-weight: bold; display: block; margin-bottom: 5px;">
                                游댃 Restaurar Backup del Sistema
                            </label>
                            <input type="file" name="backup_file" id="backup_file" accept=".zip" required style="margin-bottom: 10px;">
                        </div>
                        <button type="submit" class="button" style="background-color: #ba2121; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">
                            <strong>Restaurar Backup</strong>
                        </button>
                        <p style="margin-top: 10px; color: #ba2121; font-size: 13px;">
                            <strong>丘멆잺 ADVERTENCIA:</strong> Esta acci칩n eliminar치 todos los datos actuales y los reemplazar치 con los datos del backup.
                            <br>
                            Aseg칰rese de tener un backup reciente antes de proceder.
                            <br>
                            <em>Solo archivos .zip generados por este sistema son v치lidos.</em>
                        </p>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
</div>

{{ block.super }}
{% endblock %}
